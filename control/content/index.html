<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="buildfire" content="enableMDTheme" />

    <!-- build:bundleControlBFMinJS  -->
    <script src="../../../../scripts/buildfire.js"></script>
    <!-- endbuild -->

    <!-- Template base stylesheet -->
    <link rel="stylesheet" href="../assets/base.css" />

    <!-- Material Design css & js -->
    <link
      href="../../../../styles/materialDesign/material-components-web@4.0.0.min.css"
      rel="stylesheet"
    />
    <script
      src="../../../../scripts/materialDesign/material-components-web@4.0.0.min.js"
      type="text/javascript"
    ></script>

    <!-- Material Icons -->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />

    <!-- Sortable list css & js  -->
    <link rel="stylesheet" href="css/sortableList.css" />
    <script src="../../../../scripts/sortable.min.js"></script>

    <!-- Custom style's stylesheet -->
    <link rel="stylesheet" href="style.css" />

    <!-- Import the thumbnail component -->
    <script src="../../../../scripts/buildfire/components/images/thumbnail.js"></script>
  </head>

  <body>
    <div id="bread" class="mdc-typography--headline6"></div>
    <br />

    <h1>Metrics</h1>

    <div id="metricsMain">
      <div id="spinner" class="spinner">Loading...</div>

      <div id="metricsList"></div>
      <div class="metric-actions">
        <label for="metrics" class="sort-by-lable">Sort By: </label>

        <select id="sortBy" onchange="onSortByChange()">
          <option value="manual">Manual</option>
          <option value="highest">Highest</option>
          <option value="lowest">Lowest</option>
        </select>

        <button
          class="mdc-button mdc-button--raised btn"
          onclick="goToAddItem()"
        >
          <div class="mdc-button__ripple"></div>
          <i class="material-icons mdc-button__icon" aria-hidden="true">add</i>
          <span class="mdc-button__label">Add</span>
        </button>
      </div>
    </div>
    <br />
    <div id="metricForm">
      <div id="metricTypeRadioGroup" class="fullwidth form-group">
        <lable>Metric type</lable><br />
        <div class="mdc-form-field fullwidth">
          <label class="radio-label designLabel" for="metricType">
            Metric
          </label>
          <div class="mdc-radio">
            <input
              onchange="onRadioChange('metric')"
              class="mdc-radio__native-control"
              type="radio"
              value="metric"
              id="metricType"
              name="metricTypes"
            />
            <div class="mdc-radio__background">
              <div class="mdc-radio__outer-circle radio-outer-circle"></div>
              <div class="mdc-radio__inner-circle"></div>
            </div>
            <div class="mdc-radio__ripple"></div>
          </div>
        </div>
        <div class="mdc-form-field fullwidth" id="tagOnly">
          <label class="radio-label designLabel" for="parentType">
            Parent
          </label>
          <div class="mdc-radio">
            <input
              class="mdc-radio__native-control"
              type="radio"
              onchange="onRadioChange('parent')"
              value="parent"
              id="parentType"
              name="metricTypes"
            />
            <div class="mdc-radio__background">
              <div class="mdc-radio__outer-circle radio-outer-circle"></div>
              <div class="mdc-radio__inner-circle"></div>
            </div>
            <div class="mdc-radio__ripple"></div>
          </div>
        </div>
      </div>

      <label id="title-lable" class="mdc-text-field mdc-text-field--outlined">
        <input
          onchange="onFieldChange(this)"
          type="text"
          id="title"
          autocomplete="false"
          class="mdc-text-field__input"
          aria-labelledby="my-label-id"
          aria-controls="title-helper-text"
          aria-describedby="title-helper-text"
        />
        <span class="mdc-notched-outline">
          <span class="mdc-notched-outline__leading"></span>
          <span class="mdc-notched-outline__notch">
            <span class="mdc-floating-label" id="my-label-id">Title</span>
          </span>
          <span class="mdc-notched-outline__trailing"></span>
        </span>
      </label>
      <div class="mdc-text-field-helper-line">
        <div
          id="title-helper-text"
          class="mdc-text-field-helper-text"
          aria-hidden="true"
        ></div>
      </div>

      <label id="min-lable" class="mdc-text-field mdc-text-field--outlined">
        <input
          onchange="onFieldChange(this)"
          id="min"
          min="0"
          autocomplete="false"
          type="number"
          class="mdc-text-field__input"
          aria-labelledby="my-label-id"
          aria-controls="min-helper-text"
          aria-describedby="min-helper-text"
        />
        <span class="mdc-notched-outline">
          <span class="mdc-notched-outline__leading"></span>
          <span class="mdc-notched-outline__notch">
            <span class="mdc-floating-label" id="my-label-id">Min</span>
          </span>
          <span class="mdc-notched-outline__trailing"></span>
        </span>
      </label>
      <div class="mdc-text-field-helper-line">
        <div
          id="min-helper-text"
          class="mdc-text-field-helper-text"
          aria-hidden="true"
        ></div>
      </div>

      <label id="max-lable" class="mdc-text-field mdc-text-field--outlined">
        <input
          onchange="onFieldChange(this)"
          id="max"
          min="0"
          autocomplete="false"
          type="number"
          class="mdc-text-field__input"
          aria-labelledby="my-label-id"
          aria-controls="max-helper-text"
          aria-describedby="max-helper-text"
        />
        <span class="mdc-notched-outline">
          <span class="mdc-notched-outline__leading"></span>
          <span class="mdc-notched-outline__notch">
            <span class="mdc-floating-label" id="my-label-id">Max</span>
          </span>
          <span class="mdc-notched-outline__trailing"></span>
        </span>
      </label>

      <div class="mdc-text-field-helper-line">
        <div
          id="max-helper-text"
          class="mdc-text-field-helper-text"
          aria-hidden="true"
        ></div>
      </div>

        <button id="actionItemButton"
          class="mdc-button mdc-button--raised mdc-theme--secondary-bg"
          onclick="addActionItem()"
        >
          <div class="mdc-button__ripple"></div>
          <i class="material-icons mdc-button__icon" aria-hidden="true">add</i>
          <span  class="mdc-button__label">Add Action Item</span>
        </button>

        <span id="showActionItem"></span>   

        <br><br>
      <div id="icon"></div>
      <label id="icon-lable" class="mdc-text-field mdc-text-field--outlined invisible">
        <input
          id="iconInput"
          autocomplete="false"
          type="text"
          class="mdc-text-field__input"
          aria-labelledby="my-label-id"
          aria-controls="icon-helper-text"
          aria-describedby="icon-helper-text"
        />
      </label>

      <div class="mdc-text-field-helper-line">
        <div
          id="icon-helper-text"
          class="mdc-text-field-helper-text"
          aria-hidden="true"
        ></div>
      </div>

      <button
        id="createAMetric"
        class="mdc-button mdc-button--raised"
        onclick="createMetric()"
      >
        <div class="mdc-button__ripple"></div>
        <i class="material-icons mdc-button__icon" aria-hidden="true">add</i
        >Create Metric
      </button>
      <button id="updateMetric" class="mdc-button mdc-button--raised">
        <div class="mdc-button__ripple"></div>
        <i class="material-icons mdc-button__icon" aria-hidden="true"
          >edit</i
        >
        Update Metric
      </button>

      <button
        class="mdc-button mdc-button--raised custom-raised-button"
        onclick="goToMetricspage()"
      >
        <div class="mdc-button__ripple"></div>
        <span class="mdc-button__label">Cancel</span>
      </button>
    </div>

    <script src="js/helper.js"></script>
    <script src="js/classes/analytics.js"></script>
    <script src="js/classes/metric.js"></script>
    <script src="js/classes/metrics.js"></script>

    <script src="js/lib/sortableList.js"></script>
    <script src="js/authManager.js"></script>
    <script src="../settings/js/classes/settings.js"></script>
    <script src="js/breadcrumb.js"></script>

    <script src="app.js"></script>

    <script>
      document.querySelectorAll(".mdc-text-field").forEach((field) => {
        mdc.textField.MDCTextField.attachTo(field);
      });

      document
        .querySelectorAll(".mdc-text-field-helper-text")
        .forEach((helperField) => {
          mdc.textField.MDCTextFieldHelperText.attachTo(helperField);
        });

      document.querySelectorAll(".mdc-button").forEach((btn) => {
        mdc.ripple.MDCRipple.attachTo(btn);
      });

      document.querySelectorAll(".mdc-fab").forEach((btn) => {
        mdc.ripple.MDCRipple.attachTo(btn);
      });

      document.querySelectorAll(".mdc-radio").forEach((radio) => {
        mdc.radio.MDCRadio.attachTo(radio);
      });

      document.querySelectorAll(".mdc-checkbox").forEach((checkbox) => {
        mdc.checkbox.MDCCheckbox.attachTo(checkbox);
      });

      document.querySelectorAll(".mdc-chip-set").forEach((chip) => {
        mdc.chips.MDCChip.attachTo(chip);
      });
    </script>
  </body>
</html>
